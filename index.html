<script>
document.write(decodeURIComponent('%3C!DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%2C%20maximum-scale%3D1.0%2C%20user-scalable%3Dno%2C%20viewport-fit%3Dcover%22%3E%0A%20%20%20%20%3Ctitle%3ESignal%20Voice%20Pro%20-%20Complete%20Communication%3C%2Ftitle%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20%40import%20url(\'https%3A%2F%2Ffonts.googleapis.com%2Fcss2%3Ffamily%3DInter%3Aopsz%2Cwght%4014..32%2C300%3B14..32%2C400%3B14..32%2C500%3B14..32%2C600%3B14..32%2C700%26display%3Dswap\')%3B%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20*%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-sizing%3A%20border-box%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%3Aroot%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-bg%3A%20%231a1d21%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-surface%3A%20%23262a2f%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-surface-light%3A%20%232f3339%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-primary%3A%20%233a7b5c%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-primary-dark%3A%20%232d5f46%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-primary-light%3A%20%234b9b77%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-accent%3A%20%232c6b4f%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-text%3A%20%23e9edf0%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-text-secondary%3A%20%239aa3ab%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-border%3A%20%23363b42%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-danger%3A%20%23f15e6c%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-success%3A%20%233b9e6d%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-warning%3A%20%23ffb347%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-input%3A%20%232f3339%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-hover%3A%20%23363b42%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-online%3A%20%233b9e6d%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-away%3A%20%23ffb347%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20--signal-offline%3A%20%239aa3ab%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20html%2C%20body%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20body%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20\'Inter\'%2C%20-apple-system%2C%20BlinkMacSystemFont%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-bg)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20min-height%3A%20100vh%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20line-height%3A%201.5%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-font-smoothing%3A%20antialiased%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-tap-highlight-color%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Signal%20App%20Container%20*%2F%0A%20%20%20%20%20%20%20%20.signal-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100vh%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100dvh%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-bg)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Left%20Sidebar%20-%20Conversations%20*%2F%0A%20%20%20%20%20%20%20%20.conversations-sidebar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20380px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-right%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-direction%3A%20column%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20transform%200.3s%20ease%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Mobile%20sidebar%20*%2F%0A%20%20%20%20%20%20%20%20%40media%20(max-width%3A%20768px)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20.conversations-sidebar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20top%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20left%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2085%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20320px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%20100%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateX(-100%25)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.conversations-sidebar.mobile-visible%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateX(0)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.chat-area%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.mobile-menu-toggle%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%20!important%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.chat-contact%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20calc(100%25%20-%20100px)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.contact-info%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20.contact-info%20h3%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20white-space%3A%20nowrap%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text-overflow%3A%20ellipsis%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.mobile-menu-toggle%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2040px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2040px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-input)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-right%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.sidebar-header%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2024px%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-bottom%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20space-between%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.signal-logo%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%208px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.signal-icon%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2032px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2032px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2018px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.signal-logo%20span%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.header-actions%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.header-btn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2036px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2036px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2018px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.header-btn%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-hover)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.header-btn%3Aactive%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(0.95)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20User%20Profile%20Section%20*%2F%0A%20%20%20%20%20%20%20%20.user-profile-section%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2016px%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-bottom%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20background%200.2s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.user-profile-section%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-hover)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.user-profile-section%3Aactive%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-hover)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-avatar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2048px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2048px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2018px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-status%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-success)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%202px%20solid%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%202px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%202px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-info%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20min-width%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-name%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2015px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%204px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20white-space%3A%20nowrap%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-overflow%3A%20ellipsis%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-status-text%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2013px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20white-space%3A%20nowrap%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-overflow%3A%20ellipsis%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-badge%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%202px%206px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Search%20Box%20*%2F%0A%20%20%20%20%20%20%20%20.search-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2016px%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.search-icon%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%2032px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateY(-50%25)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.search-input%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%2016px%2012px%2044px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-input)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2024px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-appearance%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.search-input%3Afocus%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20outline%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-color%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface-light)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.search-input%3A%3Aplaceholder%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Conversations%20List%20*%2F%0A%20%20%20%20%20%20%20%20.conversations-list%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-overflow-scrolling%3A%20touch%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.conversation-item%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%204px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-tap-highlight-color%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.conversation-item%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-hover)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.conversation-item%3Aactive%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-hover)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(0.98)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.conversation-item.active%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary-dark)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.conversation-avatar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2048px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2048px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient(135deg%2C%20%233a7b5c%2C%20%232d5f46)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.online-indicator%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-success)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%202px%20solid%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%202px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%202px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.away-indicator%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-warning)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.conversation-details%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20min-width%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.conversation-header%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20space-between%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%204px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.conversation-name%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2015px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20white-space%3A%20nowrap%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-overflow%3A%20ellipsis%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20150px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.conversation-time%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2011px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-left%3A%208px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.conversation-preview%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20space-between%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.preview-text%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2013px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20white-space%3A%20nowrap%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-overflow%3A%20ellipsis%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20140px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.device-badge%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface-light)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%202px%206px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.unread-badge%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%202px%206px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20min-width%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-left%3A%208px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.typing-indicator%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2011px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-style%3A%20italic%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Main%20Chat%20Area%20*%2F%0A%20%20%20%20%20%20%20%20.chat-area%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-direction%3A%20column%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-bg)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.chat-header%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2080px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-bottom%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20space-between%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.chat-contact%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20min-width%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.chat-contact%3Aactive%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.7%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.contact-avatar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2048px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2048px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient(135deg%2C%20%233a7b5c%2C%20%232d5f46)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2018px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.contact-info%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20min-width%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.contact-info%20h3%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%204px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20white-space%3A%20nowrap%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-overflow%3A%20ellipsis%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.contact-status%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2013px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%206px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20white-space%3A%20nowrap%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-overflow%3A%20ellipsis%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.status-dot%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-success)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20inline-block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.status-dot.away%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-warning)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.status-dot.offline%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-offline)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.chat-actions%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.chat-action-btn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2042px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2042px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-input)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2018px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-tap-highlight-color%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.chat-action-btn%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-hover)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.chat-action-btn%3Aactive%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(0.95)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.chat-action-btn.call-active%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-color%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.chat-action-btn.video-active%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Messages%20Container%20*%2F%0A%20%20%20%20%20%20%20%20.messages-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-direction%3A%20column%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-overflow-scrolling%3A%20touch%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.date-divider%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%2020px%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.date-divider%3A%3Abefore%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20content%3A%20\'\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%201px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.date-divider%20span%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-bg)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-wrapper%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%2085%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20messageAppear%200.3s%20ease%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40media%20(max-width%3A%20768px)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20.message-wrapper%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%2090%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40keyframes%20messageAppear%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20from%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateY(10px)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20to%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateY(0)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-wrapper.own%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-left%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-direction%3A%20row-reverse%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-avatar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2032px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2032px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient(135deg%2C%20%233a7b5c%2C%20%232d5f46)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2013px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-bubble%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2010px%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-top-left-radius%3A%204px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20word-wrap%3A%20break-word%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20calc(100%25%20-%2040px)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-wrapper.own%20.message-bubble%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary-dark)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-top-left-radius%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-top-right-radius%3A%204px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-sender%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2011px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-primary-light)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%204px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-text%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20line-height%3A%201.4%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20word-wrap%3A%20break-word%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-media%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20200px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-media%20img%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-file%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba(255%2C255%2C255%2C0.1)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%208px%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%208px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-file-icon%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-file-info%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-file-name%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20500%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-file-size%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-reactions%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%204px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%206px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.reaction%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba(255%2C255%2C255%2C0.1)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%202px%206px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2011px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%202px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.reaction%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba(255%2C255%2C255%2C0.2)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-time%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%204px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20right%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20flex-end%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%204px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-status%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-status.sent%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-status.delivered%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-status.read%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-success)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Message%20Input%20*%2F%0A%20%20%20%20%20%20%20%20.message-input-area%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-top%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.input-wrapper%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-input)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2028px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%204px%204px%204px%2016px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.input-wrapper%3Afocus-within%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-color%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-input%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2010px%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20min-width%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-appearance%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-input%3Afocus%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20outline%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-input%3A%3Aplaceholder%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.input-actions%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%204px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.input-action-btn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2042px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2042px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2021px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2018px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.input-action-btn%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-hover)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.input-action-btn%3Aactive%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(0.95)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.send-btn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2042px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2042px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2021px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2018px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-tap-highlight-color%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.send-btn%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary-light)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.send-btn%3Aactive%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(0.95)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Emoji%20Picker%20*%2F%0A%20%20%20%20%20%20%20%20.emoji-picker%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%2080px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20grid%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20grid-template-columns%3A%20repeat(6%2C%201fr)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%20100%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2010px%2030px%20rgba(0%2C0%2C0%2C0.3)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.emoji-item%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2036px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2036px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.emoji-item%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-hover)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(1.1)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Call%20Interface%20*%2F%0A%20%20%20%20%20%20%20%20.call-overlay%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba(0%2C%200%2C%200%2C%200.95)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20backdrop-filter%3A%20blur(20px)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-backdrop-filter%3A%20blur(20px)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20fadeIn%200.3s%20ease%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40keyframes%20fadeIn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20from%20%7B%20opacity%3A%200%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20to%20%7B%20opacity%3A%201%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20400px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-avatar-large%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20120px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20120px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient(135deg%2C%20%233a7b5c%2C%20%232d5f46)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2036px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2048px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200%20auto%2024px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2020px%2040px%20rgba(0%2C%200%2C%200%2C%200.3)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20pulse%202s%20infinite%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-avatar-large.video-call%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20200px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20200px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2024px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40media%20(max-width%3A%20768px)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20.call-avatar-large%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2040px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2030px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20.call-avatar-large.video-call%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20150px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20150px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20.call-timer%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2040px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20.call-button%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2056px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2056px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2022px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40keyframes%20pulse%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%200%25%2C%20100%25%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(1)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2020px%2040px%20rgba(58%2C%20123%2C%2092%2C%200.3)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2050%25%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(1.05)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2030px%2050px%20rgba(58%2C%20123%2C%2092%2C%200.5)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-name%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2028px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20word-wrap%3A%20break-word%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40media%20(max-width%3A%20768px)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20.call-name%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2024px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-status%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2015px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%2030px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-timer%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2048px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20monospace%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%2030px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20letter-spacing%3A%202px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-quality%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-success)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%208px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.quality-bars%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%202px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.quality-bar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%203px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-success)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%201px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200.3%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.quality-bar.active%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-actions%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-wrap%3A%20wrap%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-button%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2064px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2064px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2032px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2024px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-tap-highlight-color%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-button%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(1.1)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-button%3Aactive%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(0.9)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-button.end-call%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-danger)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-button.mute.active%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-warning)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-button.speaker.active%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-success)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.call-button.video%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Video%20Call%20Layout%20*%2F%0A%20%20%20%20%20%20%20%20.video-call-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-direction%3A%20column%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.remote-video%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.remote-video%20video%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20object-fit%3A%20cover%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.local-video%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20150px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20200px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%231a1d21%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%202px%20solid%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2010px%2030px%20rgba(0%2C0%2C0%2C0.5)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.local-video%20video%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20object-fit%3A%20cover%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.video-controls%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%2030px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateX(-50%25)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%2010%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Incoming%20Call%20*%2F%0A%20%20%20%20%20%20%20%20.incoming-call-overlay%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20bottom%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba(0%2C%200%2C%200%2C%200.98)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20backdrop-filter%3A%20blur(20px)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-backdrop-filter%3A%20blur(20px)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201100%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20slideUp%200.3s%20ease%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40keyframes%20slideUp%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20from%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateY(30px)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20to%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateY(0)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.incoming-call-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20380px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.incoming-avatar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient(135deg%2C%20%233a7b5c%2C%20%232d5f46)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2030px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2040px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200%20auto%2024px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20ring%201.5s%20infinite%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40media%20(max-width%3A%20768px)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20.incoming-avatar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2080px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2080px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2032px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2024px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40keyframes%20ring%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%200%25%2C%20100%25%20%7B%20transform%3A%20rotate(0)%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2020%25%2C%2060%25%20%7B%20transform%3A%20rotate(8deg)%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2040%25%2C%2080%25%20%7B%20transform%3A%20rotate(-8deg)%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.incoming-name%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2024px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20word-wrap%3A%20break-word%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.incoming-label%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2015px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%2030px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.incoming-actions%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.incoming-btn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2070px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2070px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2035px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2028px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-tap-highlight-color%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.incoming-btn%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(1.1)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.incoming-btn%3Aactive%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(0.9)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.incoming-btn.accept%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-success)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.incoming-btn.decline%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-danger)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Settings%20Panel%20*%2F%0A%20%20%20%20%20%20%20%20.settings-panel%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translate(-50%25%2C%20-50%25)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2090%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20420px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-height%3A%2090vh%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2028px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2030px%2060px%20rgba(0%2C%200%2C%200%2C%200.5)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20scaleIn%200.3s%20ease%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40keyframes%20scaleIn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20from%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translate(-50%25%2C%20-50%25)%20scale(0.9)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20to%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translate(-50%25%2C%20-50%25)%20scale(1)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.settings-header%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-bottom%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20space-between%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.settings-header%20h3%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2018px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.settings-close%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2036px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2036px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2010px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-input)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-tap-highlight-color%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.settings-close%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-hover)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.settings-close%3Aactive%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(0.95)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.settings-content%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.settings-group%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%2024px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.settings-label%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20block%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2013px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-transform%3A%20uppercase%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20letter-spacing%3A%200.5px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.settings-select%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-input)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-appearance%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20appearance%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.settings-select%3Afocus%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20outline%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-color%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.settings-option%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20space-between%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-bottom%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.settings-option%3Alast-child%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-bottom%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.settings-option-info%20h4%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%204px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.settings-option-info%20p%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Toggle%20Switch%20*%2F%0A%20%20%20%20%20%20%20%20.toggle-switch%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2044px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2024px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-input)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20relative%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.toggle-switch.active%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.toggle-slider%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%202px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%202px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20transform%200.2s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.toggle-switch.active%20.toggle-slider%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateX(20px)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.volume-meter%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-input)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.meter-label%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20space-between%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2013px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%208px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.meter-bar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%206px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%203px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.meter-fill%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%200%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient(90deg%2C%20var(--signal-primary)%2C%20var(--signal-primary-light))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20width%200.1s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%203px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.test-button%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-tap-highlight-color%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.test-button%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary-light)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.test-button%3Aactive%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(0.98)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20User%20Profile%20Panel%20*%2F%0A%20%20%20%20%20%20%20%20.profile-panel%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translate(-50%25%2C%20-50%25)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2090%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20400px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2028px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2030px%2060px%20rgba(0%2C%200%2C%200%2C%200.5)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20scaleIn%200.3s%20ease%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-header%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2030px%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-bottom%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-avatar-large%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20linear-gradient(135deg%2C%20%233a7b5c%2C%20%232d5f46)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2030px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2040px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200%20auto%2016px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-name-large%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2024px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%204px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-email%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%208px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-bio%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20300px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200%20auto%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-stats%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2030px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-bottom%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.stat-item%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.stat-value%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.stat-label%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-actions%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-action-btn%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-input)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-action-btn%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-hover)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.profile-action-btn%3Aactive%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(0.98)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Auth%20Container%20*%2F%0A%20%20%20%20%20%20%20%20.auth-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20420px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.auth-card%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2032px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2040px%2030px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2030px%2060px%20rgba(0%2C%200%2C%200%2C%200.3)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40media%20(max-width%3A%20768px)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20.auth-card%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2030px%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.auth-logo%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%2032px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.auth-logo-icon%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2048px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2048px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2024px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.auth-logo%20span%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2024px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20700%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.auth-title%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%2024px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.auth-input%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2016px%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-input)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2015px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-appearance%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.auth-input%3Afocus%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20outline%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-color%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.auth-button%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-tap-highlight-color%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.auth-button%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary-light)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.auth-button%3Aactive%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale(0.98)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.auth-footer%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.auth-footer%20span%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20500%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.auth-footer%20span%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-decoration%3A%20underline%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Toast%20Notifications%20*%2F%0A%20%20%20%20%20%20%20%20.toast-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20right%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201300%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20none%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.toast%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-left%3A%204px%20solid%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2014px%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2010px%2030px%20rgba(0%2C%200%2C%200%2C%200.3)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20toastSlide%200.3s%20ease%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20400px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-left%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20pointer-events%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20word-wrap%3A%20break-word%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.toast-icon%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.toast-content%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.toast-title%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%202px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.toast-message%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2013px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40media%20(max-width%3A%20768px)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20.toast%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20100%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20margin-left%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.toast.success%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-left-color%3A%20var(--signal-success)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.toast.error%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-left-color%3A%20var(--signal-danger)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.toast.warning%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-left-color%3A%20var(--signal-warning)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40keyframes%20toastSlide%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20from%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateX(30px)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20to%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateX(0)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Hidden%20*%2F%0A%20%20%20%20%20%20%20%20.hidden%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20none%20!important%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Scrollbar%20*%2F%0A%20%20%20%20%20%20%20%20%3A%3A-webkit-scrollbar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%206px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%3A%3A-webkit-scrollbar-track%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%3A%3A-webkit-scrollbar-thumb%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%203px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%3A%3A-webkit-scrollbar-thumb%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Loading%20Spinner%20*%2F%0A%20%20%20%20%20%20%20%20.spinner%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2040px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2040px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%203px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-top-color%3A%20var(--signal-primary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20spin%201s%20linear%20infinite%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%2020px%20auto%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40keyframes%20spin%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20to%20%7B%20transform%3A%20rotate(360deg)%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Context%20Menu%20*%2F%0A%20%20%20%20%20%20%20%20.context-menu%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20var(--signal-border)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%204px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201000%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%3A%200%2010px%2030px%20rgba(0%2C0%2C0%2C0.3)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.context-menu-item%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2010px%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20white-space%3A%20nowrap%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.context-menu-item%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-hover)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.context-menu-item.danger%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20var(--signal-danger)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.context-menu-item.danger%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20rgba(241%2C%2094%2C%20108%2C%200.1)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F*%20Typing%20Animation%20*%2F%0A%20%20%20%20%20%20%20%20.typing-animation%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%204px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-surface)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20fit-content%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.typing-dot%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20var(--signal-text-secondary)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20typingBounce%201.4s%20infinite%20ease-in-out%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.typing-dot%3Anth-child(1)%20%7B%20animation-delay%3A%20-0.32s%3B%20%7D%0A%20%20%20%20%20%20%20%20.typing-dot%3Anth-child(2)%20%7B%20animation-delay%3A%20-0.16s%3B%20%7D%0A%0A%20%20%20%20%20%20%20%20%40keyframes%20typingBounce%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%200%25%2C%2080%25%2C%20100%25%20%7B%20transform%3A%20scale(0)%3B%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%2040%25%20%7B%20transform%3A%20scale(1)%3B%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%3C%2Fstyle%3E%0A%3C%2Fhead%3E%0A%3Cbody%3E%0A%20%20%20%20%3C!--%20Main%20Signal%20Container%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22signalApp%22%20class%3D%22signal-container%20hidden%22%3E%0A%20%20%20%20%20%20%20%20%3C!--%20Conversations%20Sidebar%20--%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22conversations-sidebar%22%20id%3D%22conversationsSidebar%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22sidebar-header%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22signal-logo%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22signal-icon%22%3E%F0%9F%94%92%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3ESignal%20Voice%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22header-actions%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22header-btn%22%20onclick%3D%22openSettings()%22%3E%E2%9A%99%EF%B8%8F%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22header-btn%22%20onclick%3D%22logout()%22%3E%F0%9F%9A%AA%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C!--%20User%20Profile%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22user-profile-section%22%20onclick%3D%22openUserProfile()%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22profile-avatar%22%20id%3D%22profileAvatar%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20U%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22profile-status%22%3E%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22profile-info%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22profile-name%22%20id%3D%22profileName%22%3ELoading...%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22profile-status-text%22%20id%3D%22profileStatus%22%3EOnline%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22profile-badge%22%20id%3D%22profileBadge%22%20style%3D%22display%3A%20none%3B%22%3EPRO%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C!--%20Search%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22search-container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22search-icon%22%3E%F0%9F%94%8D%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20class%3D%22search-input%22%20id%3D%22searchUsers%22%20placeholder%3D%22Search%20conversations...%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C!--%20Conversations%20List%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22conversations-list%22%20id%3D%22conversationsList%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%20%20%3C!--%20Main%20Chat%20Area%20--%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22chat-area%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C!--%20Chat%20Header%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22chat-header%22%20id%3D%22chatHeader%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22mobile-menu-toggle%22%20id%3D%22mobileMenuToggle%22%20onclick%3D%22toggleMobileSidebar()%22%3E%E2%98%B0%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22chat-contact%22%20id%3D%22chatContact%22%20onclick%3D%22selectConversationFromHeader()%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22contact-avatar%22%20id%3D%22chatAvatar%22%3E%F0%9F%91%A4%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22contact-info%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%20id%3D%22chatName%22%3ESelect%20a%20conversation%3C%2Fh3%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22contact-status%22%20id%3D%22chatStatus%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22status-dot%22%3E%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EStart%20messaging%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22chat-actions%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22chat-action-btn%22%20id%3D%22callButton%22%20onclick%3D%22startCallFromHeader()%22%20style%3D%22display%3A%20none%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%F0%9F%93%9E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22chat-action-btn%22%20id%3D%22videoCallButton%22%20onclick%3D%22startVideoCallFromHeader()%22%20style%3D%22display%3A%20none%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%F0%9F%93%B9%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22chat-action-btn%22%20onclick%3D%22openSettings()%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%F0%9F%8E%A4%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C!--%20Messages%20Container%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22messages-container%22%20id%3D%22messagesContainer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C!--%20Messages%20will%20appear%20here%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C!--%20Typing%20Indicator%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22typingIndicator%22%20class%3D%22typing-animation%22%20style%3D%22display%3A%20none%3B%20margin%3A%200%2016px%208px%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22typing-dot%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22typing-dot%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22typing-dot%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C!--%20Message%20Input%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-input-area%22%20id%3D%22messageInputArea%22%20style%3D%22display%3A%20none%3B%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22input-wrapper%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20class%3D%22message-input%22%20id%3D%22messageInput%22%20placeholder%3D%22Type%20a%20message...%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22input-actions%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22input-action-btn%22%20onclick%3D%22toggleEmojiPicker()%22%3E%F0%9F%98%8A%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22input-action-btn%22%20onclick%3D%22attachFile()%22%3E%F0%9F%93%8E%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22send-btn%22%20onclick%3D%22sendMessage()%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%F0%9F%93%A4%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C!--%20Emoji%20Picker%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22emojiPicker%22%20class%3D%22emoji-picker%20hidden%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22emoji-item%22%20onclick%3D%22addEmoji(\'%F0%9F%98%8A\')%22%3E%F0%9F%98%8A%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22emoji-item%22%20onclick%3D%22addEmoji(\'%F0%9F%98%82\')%22%3E%F0%9F%98%82%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22emoji-item%22%20onclick%3D%22addEmoji(\'%E2%9D%A4%EF%B8%8F\')%22%3E%E2%9D%A4%EF%B8%8F%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22emoji-item%22%20onclick%3D%22addEmoji(\'%F0%9F%91%8D\')%22%3E%F0%9F%91%8D%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22emoji-item%22%20onclick%3D%22addEmoji(\'%F0%9F%8E%89\')%22%3E%F0%9F%8E%89%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22emoji-item%22%20onclick%3D%22addEmoji(\'%F0%9F%94%A5\')%22%3E%F0%9F%94%A5%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22emoji-item%22%20onclick%3D%22addEmoji(\'%F0%9F%98%A2\')%22%3E%F0%9F%98%A2%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22emoji-item%22%20onclick%3D%22addEmoji(\'%F0%9F%98%8E\')%22%3E%F0%9F%98%8E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22emoji-item%22%20onclick%3D%22addEmoji(\'%F0%9F%A4%94\')%22%3E%F0%9F%A4%94%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22emoji-item%22%20onclick%3D%22addEmoji(\'%F0%9F%91%8F\')%22%3E%F0%9F%91%8F%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22emoji-item%22%20onclick%3D%22addEmoji(\'%F0%9F%99%8F\')%22%3E%F0%9F%99%8F%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22emoji-item%22%20onclick%3D%22addEmoji(\'%F0%9F%92%AF\')%22%3E%F0%9F%92%AF%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20Call%20Overlay%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22callOverlay%22%20class%3D%22call-overlay%20hidden%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22call-container%22%20id%3D%22audioCallContainer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22call-avatar-large%22%20id%3D%22callAvatarLarge%22%3E%F0%9F%91%A4%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22call-name%22%20id%3D%22callName%22%3EConnecting...%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22call-status%22%20id%3D%22callStatus%22%3ECalling%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22call-quality%22%20id%3D%22callQuality%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3ECall%20Quality%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22quality-bars%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22quality-bar%20active%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22quality-bar%20active%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22quality-bar%20active%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22quality-bar%20active%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22quality-bar%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22call-timer%22%20id%3D%22callTimer%22%3E00%3A00%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22call-actions%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22call-button%20mute%22%20id%3D%22callMuteBtn%22%20onclick%3D%22toggleMute()%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%F0%9F%8E%A4%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22call-button%20end-call%22%20onclick%3D%22endCall()%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%F0%9F%93%9E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22call-button%20speaker%22%20id%3D%22callSpeakerBtn%22%20onclick%3D%22toggleSpeaker()%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%F0%9F%94%8A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22call-button%20video%22%20onclick%3D%22toggleVideo()%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%F0%9F%93%B9%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22videoCallContainer%22%20class%3D%22video-call-container%20hidden%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22remote-video%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cvideo%20id%3D%22remoteVideo%22%20autoplay%20playsinline%3E%3C%2Fvideo%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22local-video%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cvideo%20id%3D%22localVideo%22%20autoplay%20playsinline%20muted%3E%3C%2Fvideo%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22video-controls%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22call-button%20mute%22%20id%3D%22videoMuteBtn%22%20onclick%3D%22toggleMute()%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%F0%9F%8E%A4%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22call-button%20end-call%22%20onclick%3D%22endCall()%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%F0%9F%93%9E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22call-button%22%20id%3D%22videoToggleBtn%22%20onclick%3D%22toggleVideo()%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%F0%9F%93%B9%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20Incoming%20Call%20Overlay%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22incomingCallOverlay%22%20class%3D%22incoming-call-overlay%20hidden%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22incoming-call-container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22incoming-avatar%22%20id%3D%22incomingAvatar%22%3E%F0%9F%91%A4%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22incoming-name%22%20id%3D%22incomingName%22%3EIncoming%20Call%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22incoming-label%22%20id%3D%22incomingType%22%3Eis%20calling%20you...%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22incoming-actions%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22incoming-btn%20accept%22%20onclick%3D%22acceptCall()%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%F0%9F%93%9E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22incoming-btn%20decline%22%20onclick%3D%22rejectCall()%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%E2%9D%8C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20Settings%20Panel%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22settingsPanel%22%20class%3D%22settings-panel%20hidden%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-header%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ch3%3ESettings%3C%2Fh3%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22settings-close%22%20onclick%3D%22closeSettings()%22%3E%E2%9C%95%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-content%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%22settings-label%22%3EAudio%3C%2Flabel%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-option%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-option-info%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch4%3EMicrophone%3C%2Fh4%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3ESelect%20input%20device%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cselect%20class%3D%22settings-select%22%20id%3D%22microphoneSelect%22%20onchange%3D%22changeMicrophone()%22%3E%3C%2Fselect%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-option%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-option-info%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch4%3ESpeaker%3C%2Fh4%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3ESelect%20output%20device%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cselect%20class%3D%22settings-select%22%20id%3D%22speakerSelect%22%20onchange%3D%22changeSpeaker()%22%3E%3C%2Fselect%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%22settings-label%22%3ENotifications%3C%2Flabel%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-option%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-option-info%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch4%3ESound%3C%2Fh4%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3EPlay%20sounds%20for%20messages%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22toggle-switch%22%20id%3D%22soundToggle%22%20onclick%3D%22toggleSetting(\'sound\')%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22toggle-slider%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-option%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-option-info%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch4%3EDesktop%20Notifications%3C%2Fh4%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3EShow%20notifications%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22toggle-switch%22%20id%3D%22notificationToggle%22%20onclick%3D%22toggleSetting(\'notifications\')%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22toggle-slider%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-group%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Clabel%20class%3D%22settings-label%22%3EPrivacy%3C%2Flabel%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-option%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-option-info%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch4%3ERead%20Receipts%3C%2Fh4%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3ELet%20others%20know%20when%20you\'ve%20read%20messages%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22toggle-switch%20active%22%20id%3D%22readReceiptsToggle%22%20onclick%3D%22toggleSetting(\'readReceipts\')%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22toggle-slider%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-option%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22settings-option-info%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ch4%3ETyping%20Indicators%3C%2Fh4%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3EShow%20when%20you\'re%20typing%3C%2Fp%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22toggle-switch%20active%22%20id%3D%22typingToggle%22%20onclick%3D%22toggleSetting(\'typing\')%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22toggle-slider%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22volume-meter%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22meter-label%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3EInput%20Level%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20id%3D%22volumePercentage%22%3E0%25%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22meter-bar%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22meter-fill%22%20id%3D%22volumeFill%22%3E%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22test-button%22%20onclick%3D%22testMicrophone()%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Test%20Microphone%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20User%20Profile%20Panel%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22userProfilePanel%22%20class%3D%22profile-panel%20hidden%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22profile-header%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22profile-avatar-large%22%20id%3D%22profileAvatarLarge%22%3EU%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22profile-name-large%22%20id%3D%22profileNameLarge%22%3EUser%20Name%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22profile-email%22%20id%3D%22profileEmail%22%3Euser%40example.com%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22profile-bio%22%20id%3D%22profileBio%22%3EHey%20there!%20I\'m%20using%20Signal%20Voice%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22profile-stats%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22stat-item%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22stat-value%22%20id%3D%22profileCalls%22%3E0%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22stat-label%22%3ECalls%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22stat-item%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22stat-value%22%20id%3D%22profileMessages%22%3E0%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22stat-label%22%3EMessages%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22stat-item%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22stat-value%22%20id%3D%22profileDevices%22%3E0%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22stat-label%22%3EDevices%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22profile-actions%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22profile-action-btn%22%20onclick%3D%22editProfile()%22%3EEdit%20Profile%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22profile-action-btn%22%20onclick%3D%22closeUserProfile()%22%3EClose%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20Auth%20Container%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22authContainer%22%20class%3D%22auth-container%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22auth-card%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22auth-logo%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22auth-logo-icon%22%3E%F0%9F%94%92%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3ESignal%20Voice%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C!--%20Login%20Form%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22loginForm%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22auth-title%22%3ESign%20in%20to%20continue%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22email%22%20class%3D%22auth-input%22%20id%3D%22loginEmail%22%20placeholder%3D%22Email%20address%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22password%22%20class%3D%22auth-input%22%20id%3D%22loginPassword%22%20placeholder%3D%22Password%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22auth-button%22%20onclick%3D%22login()%22%3ESign%20In%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22auth-footer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Don\'t%20have%20an%20account%3F%20%3Cspan%20onclick%3D%22toggleAuthForm(\'signup\')%22%3ECreate%20one%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C!--%20Signup%20Form%20--%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22signupForm%22%20class%3D%22hidden%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22auth-title%22%3ECreate%20account%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22text%22%20class%3D%22auth-input%22%20id%3D%22signupName%22%20placeholder%3D%22Full%20name%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22email%22%20class%3D%22auth-input%22%20id%3D%22signupEmail%22%20placeholder%3D%22Email%20address%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22password%22%20class%3D%22auth-input%22%20id%3D%22signupPassword%22%20placeholder%3D%22Password%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cinput%20type%3D%22password%22%20class%3D%22auth-input%22%20id%3D%22signupConfirm%22%20placeholder%3D%22Confirm%20password%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22auth-button%22%20onclick%3D%22signup()%22%3ECreate%20Account%3C%2Fbutton%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22auth-footer%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Already%20have%20an%20account%3F%20%3Cspan%20onclick%3D%22toggleAuthForm(\'login\')%22%3ESign%20in%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20Toast%20Container%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22toastContainer%22%20class%3D%22toast-container%22%3E%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20Context%20Menu%20--%3E%0A%20%20%20%20%3Cdiv%20id%3D%22contextMenu%22%20class%3D%22context-menu%20hidden%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22context-menu-item%22%20onclick%3D%22contextMenuAction(\'reply\')%22%3EReply%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22context-menu-item%22%20onclick%3D%22contextMenuAction(\'forward\')%22%3EForward%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22context-menu-item%22%20onclick%3D%22contextMenuAction(\'copy\')%22%3ECopy%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22context-menu-item%22%20onclick%3D%22contextMenuAction(\'delete\')%22%3EDelete%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22context-menu-item%20danger%22%20onclick%3D%22contextMenuAction(\'report\')%22%3EReport%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%0A%20%20%20%20%3C!--%20Firebase%20SDK%20--%3E%0A%20%20%20%20%3Cscript%20type%3D%22module%22%3E%0A%20%20%20%20%20%20%20%20import%20%7B%20initializeApp%20%7D%20from%20%22https%3A%2F%2Fwww.gstatic.com%2Ffirebasejs%2F10.8.0%2Ffirebase-app.js%22%3B%0A%20%20%20%20%20%20%20%20import%20%7B%20getDatabase%2C%20ref%2C%20set%2C%20onValue%2C%20push%2C%20remove%2C%20onDisconnect%2C%20update%2C%20get%20%7D%20from%20%22https%3A%2F%2Fwww.gstatic.com%2Ffirebasejs%2F10.8.0%2Ffirebase-database.js%22%3B%0A%20%20%20%20%20%20%20%20import%20%7B%20getAnalytics%20%7D%20from%20%22https%3A%2F%2Fwww.gstatic.com%2Ffirebasejs%2F10.8.0%2Ffirebase-analytics.js%22%3B%0A%20%20%20%20%20%20%20%20import%20%7B%20getStorage%2C%20ref%20as%20storageRef%2C%20uploadBytes%2C%20getDownloadURL%20%7D%20from%20%22https%3A%2F%2Fwww.gstatic.com%2Ffirebasejs%2F10.8.0%2Ffirebase-storage.js%22%3B%0A%0A%20%20%20%20%20%20%20%20const%20firebaseConfig%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20apiKey%3A%20%22AIzaSyCzLlsatVXnqT2XDrFIorlU7a_b0Knh4bY%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20authDomain%3A%20%22forworder-fde88.firebaseapp.com%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20databaseURL%3A%20%22https%3A%2F%2Fforworder-fde88-default-rtdb.firebaseio.com%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20projectId%3A%20%22forworder-fde88%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20storageBucket%3A%20%22forworder-fde88.firebasestorage.app%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20messagingSenderId%3A%20%22100323042084%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20appId%3A%20%221%3A100323042084%3Aweb%3Aaccf4ceb45039f756b89b1%22%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20measurementId%3A%20%22G-M7HXVKLPD2%22%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20const%20app%20%3D%20initializeApp(firebaseConfig)%3B%0A%20%20%20%20%20%20%20%20const%20analytics%20%3D%20getAnalytics(app)%3B%0A%20%20%20%20%20%20%20%20const%20database%20%3D%20getDatabase(app)%3B%0A%20%20%20%20%20%20%20%20const%20storage%20%3D%20getStorage(app)%3B%0A%0A%20%20%20%20%20%20%20%20window.database%20%3D%20database%3B%0A%20%20%20%20%20%20%20%20window.storage%20%3D%20storage%3B%0A%20%20%20%20%20%20%20%20window.storageRef%20%3D%20storageRef%3B%0A%20%20%20%20%20%20%20%20window.uploadBytes%20%3D%20uploadBytes%3B%0A%20%20%20%20%20%20%20%20window.getDownloadURL%20%3D%20getDownloadURL%3B%0A%20%20%20%20%20%20%20%20window.ref%20%3D%20ref%3B%0A%20%20%20%20%20%20%20%20window.set%20%3D%20set%3B%0A%20%20%20%20%20%20%20%20window.onValue%20%3D%20onValue%3B%0A%20%20%20%20%20%20%20%20window.push%20%3D%20push%3B%0A%20%20%20%20%20%20%20%20window.remove%20%3D%20remove%3B%0A%20%20%20%20%20%20%20%20window.onDisconnect%20%3D%20onDisconnect%3B%0A%20%20%20%20%20%20%20%20window.update%20%3D%20update%3B%0A%20%20%20%20%20%20%20%20window.get%20%3D%20get%3B%0A%20%20%20%20%3C%2Fscript%3E%0A%0A%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20%20%20%2F%2F%20Global%20variables%0A%20%20%20%20%20%20%20%20let%20currentUser%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20currentCall%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20localStream%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20remoteStream%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20peerConnection%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20callTimer%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20callStartTime%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20isMuted%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20let%20isSpeakerEnabled%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20let%20isVideoEnabled%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20let%20audioContext%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20analyser%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20volumeInterval%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20deviceId%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20currentChatWith%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20messagesRef%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20typingRef%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20isCallActive%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20let%20callEndedByUser%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20let%20typingTimeout%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20let%20unreadCount%20%3D%200%3B%0A%20%20%20%20%20%20%20%20let%20userSettings%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20sound%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20notifications%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20readReceipts%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20typing%3A%20true%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20WebRTC%20configuration%0A%20%20%20%20%20%20%20%20const%20configuration%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20iceServers%3A%20%5B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20urls%3A%20\'stun%3Astun.l.google.com%3A19302\'%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20urls%3A%20\'stun%3Astun1.l.google.com%3A19302\'%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20urls%3A%20\'stun%3Astun2.l.google.com%3A19302\'%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20urls%3A%20\'stun%3Astun3.l.google.com%3A19302\'%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20urls%3A%20\'stun%3Astun4.l.google.com%3A19302\'%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%20urls%3A%20\'stun%3Astun.services.mozilla.com\'%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20iceCandidatePoolSize%3A%2010%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20DOM%20elements%0A%20%20%20%20%20%20%20%20const%20authContainer%20%3D%20document.getElementById(\'authContainer\')%3B%0A%20%20%20%20%20%20%20%20const%20signalApp%20%3D%20document.getElementById(\'signalApp\')%3B%0A%20%20%20%20%20%20%20%20const%20conversationsSidebar%20%3D%20document.getElementById(\'conversationsSidebar\')%3B%0A%20%20%20%20%20%20%20%20const%20loginForm%20%3D%20document.getElementById(\'loginForm\')%3B%0A%20%20%20%20%20%20%20%20const%20signupForm%20%3D%20document.getElementById(\'signupForm\')%3B%0A%20%20%20%20%20%20%20%20const%20conversationsList%20%3D%20document.getElementById(\'conversationsList\')%3B%0A%20%20%20%20%20%20%20%20const%20messagesContainer%20%3D%20document.getElementById(\'messagesContainer\')%3B%0A%20%20%20%20%20%20%20%20const%20chatName%20%3D%20document.getElementById(\'chatName\')%3B%0A%20%20%20%20%20%20%20%20const%20chatStatus%20%3D%20document.getElementById(\'chatStatus\')%3B%0A%20%20%20%20%20%20%20%20const%20chatAvatar%20%3D%20document.getElementById(\'chatAvatar\')%3B%0A%20%20%20%20%20%20%20%20const%20chatHeader%20%3D%20document.getElementById(\'chatHeader\')%3B%0A%20%20%20%20%20%20%20%20const%20messageInputArea%20%3D%20document.getElementById(\'messageInputArea\')%3B%0A%20%20%20%20%20%20%20%20const%20callButton%20%3D%20document.getElementById(\'callButton\')%3B%0A%20%20%20%20%20%20%20%20const%20videoCallButton%20%3D%20document.getElementById(\'videoCallButton\')%3B%0A%20%20%20%20%20%20%20%20const%20callOverlay%20%3D%20document.getElementById(\'callOverlay\')%3B%0A%20%20%20%20%20%20%20%20const%20audioCallContainer%20%3D%20document.getElementById(\'audioCallContainer\')%3B%0A%20%20%20%20%20%20%20%20const%20videoCallContainer%20%3D%20document.getElementById(\'videoCallContainer\')%3B%0A%20%20%20%20%20%20%20%20const%20remoteVideo%20%3D%20document.getElementById(\'remoteVideo\')%3B%0A%20%20%20%20%20%20%20%20const%20localVideo%20%3D%20document.getElementById(\'localVideo\')%3B%0A%20%20%20%20%20%20%20%20const%20incomingCallOverlay%20%3D%20document.getElementById(\'incomingCallOverlay\')%3B%0A%20%20%20%20%20%20%20%20const%20settingsPanel%20%3D%20document.getElementById(\'settingsPanel\')%3B%0A%20%20%20%20%20%20%20%20const%20userProfilePanel%20%3D%20document.getElementById(\'userProfilePanel\')%3B%0A%20%20%20%20%20%20%20%20const%20toastContainer%20%3D%20document.getElementById(\'toastContainer\')%3B%0A%20%20%20%20%20%20%20%20const%20microphoneSelect%20%3D%20document.getElementById(\'microphoneSelect\')%3B%0A%20%20%20%20%20%20%20%20const%20speakerSelect%20%3D%20document.getElementById(\'speakerSelect\')%3B%0A%20%20%20%20%20%20%20%20const%20volumeFill%20%3D%20document.getElementById(\'volumeFill\')%3B%0A%20%20%20%20%20%20%20%20const%20volumePercentage%20%3D%20document.getElementById(\'volumePercentage\')%3B%0A%20%20%20%20%20%20%20%20const%20typingIndicator%20%3D%20document.getElementById(\'typingIndicator\')%3B%0A%20%20%20%20%20%20%20%20const%20emojiPicker%20%3D%20document.getElementById(\'emojiPicker\')%3B%0A%20%20%20%20%20%20%20%20const%20contextMenu%20%3D%20document.getElementById(\'contextMenu\')%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Generate%20device%20ID%0A%20%20%20%20%20%20%20%20function%20generateDeviceId()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20\'device_\'%20%2B%20Math.random().toString(36).substr(2%2C%209)%20%2B%20\'_\'%20%2B%20Date.now()%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Show%20toast%20with%20title%0A%20%20%20%20%20%20%20%20function%20showToast(message%2C%20type%20%3D%20\'info\'%2C%20title%20%3D%20\'\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20toast%20%3D%20document.createElement(\'div\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20toast.className%20%3D%20%60toast%20%24%7Btype%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20toast.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7Btype%20%3D%3D%3D%20\'success\'%20%3F%20\'%3Cdiv%20class%3D%22toast-icon%22%3E%E2%9C%85%3C%2Fdiv%3E\'%20%3A%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%20%3D%3D%3D%20\'error\'%20%3F%20\'%3Cdiv%20class%3D%22toast-icon%22%3E%E2%9D%8C%3C%2Fdiv%3E\'%20%3A%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%20%3D%3D%3D%20\'warning\'%20%3F%20\'%3Cdiv%20class%3D%22toast-icon%22%3E%E2%9A%A0%EF%B8%8F%3C%2Fdiv%3E\'%20%3A%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20\'%3Cdiv%20class%3D%22toast-icon%22%3E%E2%84%B9%EF%B8%8F%3C%2Fdiv%3E\'%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22toast-content%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7Btitle%20%3F%20%60%3Cdiv%20class%3D%22toast-title%22%3E%24%7Btitle%7D%3C%2Fdiv%3E%60%20%3A%20\'\'%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22toast-message%22%3E%24%7Bmessage%7D%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20toastContainer.appendChild(toast)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20toast.remove()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%203000)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Play%20sound%0A%20%20%20%20%20%20%20%20function%20playSound(type)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!userSettings.sound)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20audio%20%3D%20new%20Audio()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(type%20%3D%3D%3D%20\'incoming\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audio.src%20%3D%20\'data%3Aaudio%2Fwav%3Bbase64%2CUklGRlwAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YVAAAAA8\'%3B%20%2F%2F%20Base64%20sound%20would%20go%20here%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20\'outgoing\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audio.src%20%3D%20\'data%3Aaudio%2Fwav%3Bbase64%2CUklGRlwAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YVAAAAA8\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(type%20%3D%3D%3D%20\'message\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audio.src%20%3D%20\'data%3Aaudio%2Fwav%3Bbase64%2CUklGRlwAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YVAAAAA8\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20audio.play().catch(e%20%3D%3E%20console.log(\'Sound%20play%20failed%3A\'%2C%20e))%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Toggle%20mobile%20sidebar%0A%20%20%20%20%20%20%20%20window.toggleMobileSidebar%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20conversationsSidebar.classList.toggle(\'mobile-visible\')%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Close%20mobile%20sidebar%20when%20clicking%20outside%0A%20%20%20%20%20%20%20%20document.addEventListener(\'click\'%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(window.innerWidth%20%3C%3D%20768)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!conversationsSidebar.contains(e.target)%20%26%26%20!e.target.classList.contains(\'mobile-menu-toggle\'))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20conversationsSidebar.classList.remove(\'mobile-visible\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Toggle%20auth%20forms%0A%20%20%20%20%20%20%20%20window.toggleAuthForm%20%3D%20function(form)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(form%20%3D%3D%3D%20\'login\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20loginForm.classList.remove(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signupForm.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20loginForm.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signupForm.classList.remove(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Sign%20up%0A%20%20%20%20%20%20%20%20window.signup%20%3D%20async%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20name%20%3D%20document.getElementById(\'signupName\').value.trim()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20email%20%3D%20document.getElementById(\'signupEmail\').value.trim()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20password%20%3D%20document.getElementById(\'signupPassword\').value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20confirm%20%3D%20document.getElementById(\'signupConfirm\').value%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!name%20%7C%7C%20!email%20%7C%7C%20!password%20%7C%7C%20!confirm)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Please%20fill%20in%20all%20fields\'%2C%20\'error\'%2C%20\'Validation%20Error\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(password%20!%3D%3D%20confirm)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Passwords%20do%20not%20match\'%2C%20\'error\'%2C%20\'Validation%20Error\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(password.length%20%3C%206)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Password%20must%20be%20at%20least%206%20characters\'%2C%20\'error\'%2C%20\'Validation%20Error\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20userId%20%3D%20email.replace(%2F%5C.%2Fg%2C%20\'%2C\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20userRef%20%3D%20ref(database%2C%20%60users%2F%24%7BuserId%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20snapshot%20%3D%20await%20get(userRef)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(snapshot.exists())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Email%20already%20registered\'%2C%20\'error\'%2C%20\'Registration%20Failed\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20set(userRef%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20name%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20email%3A%20email%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20password%3A%20btoa(password)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20online%3A%20%7B%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bio%3A%20\'Hey%20there!%20I%5C\'m%20using%20Signal%20Voice\'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20settings%3A%20userSettings%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20createdAt%3A%20Date.now()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Account%20created%20successfully!\'%2C%20\'success\'%2C%20\'Welcome!\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20toggleAuthForm(\'login\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Clear%20form%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'signupName\').value%20%3D%20\'\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'signupEmail\').value%20%3D%20\'\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'signupPassword\').value%20%3D%20\'\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'signupConfirm\').value%20%3D%20\'\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20(error)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Error%20creating%20account\'%2C%20\'error\'%2C%20\'Registration%20Failed\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Login%0A%20%20%20%20%20%20%20%20window.login%20%3D%20async%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20email%20%3D%20document.getElementById(\'loginEmail\').value.trim()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20password%20%3D%20document.getElementById(\'loginPassword\').value%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!email%20%7C%7C%20!password)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Please%20enter%20email%20and%20password\'%2C%20\'error\'%2C%20\'Login%20Failed\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20userId%20%3D%20email.replace(%2F%5C.%2Fg%2C%20\'%2C\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20userRef%20%3D%20ref(database%2C%20%60users%2F%24%7BuserId%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20snapshot%20%3D%20await%20get(userRef)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!snapshot.exists())%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Email%20not%20found\'%2C%20\'error\'%2C%20\'Login%20Failed\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20userData%20%3D%20snapshot.val()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(atob(userData.password)%20!%3D%3D%20password)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Incorrect%20password\'%2C%20\'error\'%2C%20\'Login%20Failed\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20deviceId%20%3D%20generateDeviceId()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentUser%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20userId%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20userData.name%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20email%3A%20email%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bio%3A%20userData.bio%20%7C%7C%20\'Hey%20there!%20I%5C\'m%20using%20Signal%20Voice\'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Load%20user%20settings%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(userData.settings)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20userSettings%20%3D%20%7B%20...userSettings%2C%20...userData.settings%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Update%20online%20status%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20deviceRef%20%3D%20ref(database%2C%20%60users%2F%24%7BuserId%7D%2Fonline%2F%24%7BdeviceId%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20set(deviceRef%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20deviceId%3A%20deviceId%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastSeen%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20userAgent%3A%20navigator.userAgent%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onDisconnect(deviceRef).remove()%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Update%20UI%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20authContainer.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20signalApp.classList.remove(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'profileName\').textContent%20%3D%20userData.name%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'profileNameLarge\').textContent%20%3D%20userData.name%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'profileEmail\').textContent%20%3D%20email%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'profileBio\').textContent%20%3D%20userData.bio%20%7C%7C%20\'Hey%20there!%20I%5C\'m%20using%20Signal%20Voice\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'profileAvatar\').innerHTML%20%3D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%24%7BuserData.name.charAt(0).toUpperCase()%7D%3Cspan%20class%3D%22profile-status%22%3E%3C%2Fspan%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'profileAvatarLarge\').textContent%20%3D%20userData.name.charAt(0).toUpperCase()%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Listen%20for%20users%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onValue(ref(database%2C%20\'users\')%2C%20(snapshot)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateConversationsList(snapshot)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Listen%20for%20calls%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onValue(ref(database%2C%20%60calls%2F%24%7BuserId%7D%60)%2C%20(snapshot)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleIncomingCall(snapshot)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Get%20audio%20devices%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20getAudioDevices()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Request%20notification%20permission%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(Notification.permission%20%3D%3D%3D%20\'default\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Notification.requestPermission()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(%60Welcome%20back%2C%20%24%7BuserData.name%7D!%60%2C%20\'success\'%2C%20\'Logged%20In\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20(error)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Login%20error\'%2C%20\'error\'%2C%20\'Login%20Failed\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Update%20conversations%20list%0A%20%20%20%20%20%20%20%20function%20updateConversationsList(snapshot)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20users%20%3D%20snapshot.val()%20%7C%7C%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20html%20%3D%20\'\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20online%20%3D%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.entries(users).forEach((%5BuserId%2C%20user%5D)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(userId%20%3D%3D%3D%20currentUser%3F.id)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20devices%20%3D%20user.online%20%7C%7C%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isOnline%20%3D%20Object.keys(devices).length%20%3E%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(isOnline)%20online%2B%2B%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20lastSeen%20%3D%20Object.values(devices)%5B0%5D%3F.lastSeen%20%7C%7C%20Date.now()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20timeAgo%20%3D%20Math.floor((Date.now()%20-%20lastSeen)%20%2F%201000)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20timeText%20%3D%20timeAgo%20%3C%2060%20%3F%20\'now\'%20%3A%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20timeAgo%20%3C%203600%20%3F%20Math.floor(timeAgo%20%2F%2060)%20%2B%20\'m\'%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20timeAgo%20%3C%2086400%20%3F%20Math.floor(timeAgo%20%2F%203600)%20%2B%20\'h\'%20%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Math.floor(timeAgo%20%2F%2086400)%20%2B%20\'d\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Get%20last%20message%20preview%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20chatId%20%3D%20%5BcurrentUser.id%2C%20userId%5D.sort().join(\'_\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20lastMessageRef%20%3D%20ref(database%2C%20%60messages%2F%24%7BchatId%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20lastMessageText%20%3D%20\'\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20html%20%2B%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22conversation-item%20%24%7BisOnline%20%3F%20\'online\'%20%3A%20\'\'%7D%22%20onclick%3D%22selectConversation(\'%24%7BuserId%7D\'%2C%20\'%24%7Buser.name%7D\'%2C%20\'%24%7Buser.email%7D\')%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22conversation-avatar%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7Buser.name.charAt(0).toUpperCase()%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BisOnline%20%3F%20\'%3Cspan%20class%3D%22online-indicator%22%3E%3C%2Fspan%3E\'%20%3A%20\'\'%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22conversation-details%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22conversation-header%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22conversation-name%22%3E%24%7Buser.name%7D%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22conversation-time%22%3E%24%7BtimeText%7D%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22conversation-preview%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22preview-text%22%3E%24%7BlastMessageText%20%7C%7C%20user.email%7D%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22device-badge%22%3E%24%7BObject.keys(devices).length%7Dd%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(html%20%3D%3D%3D%20\'\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20html%20%3D%20\'%3Cdiv%20style%3D%22color%3A%20var(--signal-text-secondary)%3B%20text-align%3A%20center%3B%20padding%3A%2040px%3B%22%3ENo%20users%20online%3C%2Fdiv%3E\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20conversationsList.innerHTML%20%3D%20html%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Select%20conversation%0A%20%20%20%20%20%20%20%20window.selectConversation%20%3D%20function(userId%2C%20name%2C%20email)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentChatWith%20%3D%20%7B%20id%3A%20userId%2C%20name%2C%20email%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20chatName.textContent%20%3D%20name%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20chatStatus.innerHTML%20%3D%20%60%3Cspan%20class%3D%22status-dot%22%3E%3C%2Fspan%3E%3Cspan%3E%24%7Bemail%7D%3C%2Fspan%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20chatAvatar.textContent%20%3D%20name.charAt(0).toUpperCase()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20messageInputArea.style.display%20%3D%20\'block\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20callButton.style.display%20%3D%20\'flex\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20videoCallButton.style.display%20%3D%20\'flex\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Close%20mobile%20sidebar%20after%20selection%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(window.innerWidth%20%3C%3D%20768)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20conversationsSidebar.classList.remove(\'mobile-visible\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20loadMessages(userId)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Set%20up%20typing%20indicator%0A%20%20%20%20%20%20%20%20%20%20%20%20setupTypingIndicator(userId)%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Setup%20typing%20indicator%0A%20%20%20%20%20%20%20%20function%20setupTypingIndicator(otherUserId)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(typingRef)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onValue(typingRef%2C%20null)%3B%20%2F%2F%20Remove%20listener%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20chatId%20%3D%20%5BcurrentUser.id%2C%20otherUserId%5D.sort().join(\'_\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20typingRef%20%3D%20ref(database%2C%20%60typing%2F%24%7BchatId%7D%2F%24%7BotherUserId%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20onValue(typingRef%2C%20(snapshot)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isTyping%20%3D%20snapshot.val()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(isTyping)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20typingIndicator.style.display%20%3D%20\'flex\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20typingIndicator.style.display%20%3D%20\'none\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%203000)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20typingIndicator.style.display%20%3D%20\'none\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Handle%20typing%0A%20%20%20%20%20%20%20%20function%20handleTyping()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!currentChatWith%20%7C%7C%20!userSettings.typing)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20chatId%20%3D%20%5BcurrentUser.id%2C%20currentChatWith.id%5D.sort().join(\'_\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20typingUserRef%20%3D%20ref(database%2C%20%60typing%2F%24%7BchatId%7D%2F%24%7BcurrentUser.id%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20set(typingUserRef%2C%20true)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(typingTimeout)%20clearTimeout(typingTimeout)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20typingTimeout%20%3D%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20set(typingUserRef%2C%20false)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%202000)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Load%20messages%0A%20%20%20%20%20%20%20%20function%20loadMessages(otherUserId)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!currentUser)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20chatId%20%3D%20%5BcurrentUser.id%2C%20otherUserId%5D.sort().join(\'_\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20messagesRef%20%3D%20ref(database%2C%20%60messages%2F%24%7BchatId%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20onValue(messagesRef%2C%20(snapshot)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20messages%20%3D%20snapshot.val()%20%7C%7C%20%7B%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20displayMessages(messages)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Mark%20messages%20as%20read%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(userSettings.readReceipts)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Object.entries(messages).forEach((%5Bid%2C%20msg%5D)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(msg.receiverId%20%3D%3D%3D%20currentUser.id%20%26%26%20!msg.read)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20update(ref(database%2C%20%60messages%2F%24%7BchatId%7D%2F%24%7Bid%7D%60)%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20read%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20readAt%3A%20Date.now()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Display%20messages%0A%20%20%20%20%20%20%20%20function%20displayMessages(messages)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20html%20%3D%20\'\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20lastDate%20%3D%20\'\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.entries(messages)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.sort((a%2C%20b)%20%3D%3E%20a%5B1%5D.timestamp%20-%20b%5B1%5D.timestamp)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.forEach((%5Bid%2C%20msg%5D)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20isOwn%20%3D%20msg.senderId%20%3D%3D%3D%20currentUser.id%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20time%20%3D%20new%20Date(msg.timestamp).toLocaleTimeString(%5B%5D%2C%20%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20hour%3A%20\'2-digit\'%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20minute%3A%20\'2-digit\'%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20date%20%3D%20new%20Date(msg.timestamp).toLocaleDateString()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(date%20!%3D%3D%20lastDate)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20html%20%2B%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22date-divider%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%24%7Bdate%20%3D%3D%3D%20new%20Date().toLocaleDateString()%20%3F%20\'Today\'%20%3A%20date%7D%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastDate%20%3D%20date%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20let%20messageContent%20%3D%20\'\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(msg.type%20%3D%3D%3D%20\'text\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20messageContent%20%3D%20%60%3Cdiv%20class%3D%22message-text%22%3E%24%7Bmsg.text%7D%3C%2Fdiv%3E%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(msg.type%20%3D%3D%3D%20\'image\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20messageContent%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-media%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cimg%20src%3D%22%24%7Bmsg.url%7D%22%20alt%3D%22Image%22%20onclick%3D%22viewImage(\'%24%7Bmsg.url%7D\')%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(msg.type%20%3D%3D%3D%20\'file\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20messageContent%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-file%22%20onclick%3D%22downloadFile(\'%24%7Bmsg.url%7D\'%2C%20\'%24%7Bmsg.fileName%7D\')%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22message-file-icon%22%3E%F0%9F%93%8E%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-file-info%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-file-name%22%3E%24%7Bmsg.fileName%7D%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-file-size%22%3E%24%7Bmsg.fileSize%7D%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20statusIcon%20%3D%20msg.read%20%3F%20\'%F0%9F%91%81%EF%B8%8F\'%20%3A%20msg.delivered%20%3F%20\'%E2%9C%93%E2%9C%93\'%20%3A%20\'%E2%9C%93\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20html%20%2B%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-wrapper%20%24%7BisOwn%20%3F%20\'own\'%20%3A%20\'\'%7D%22%20oncontextmenu%3D%22showContextMenu(event%2C%20\'%24%7Bid%7D\')%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-avatar%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BisOwn%20%3F%20currentUser.name.charAt(0).toUpperCase()%20%3A%20msg.senderName%3F.charAt(0).toUpperCase()%20%7C%7C%20\'%3F\'%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-bubble%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7B!isOwn%20%3F%20%60%3Cdiv%20class%3D%22message-sender%22%3E%24%7Bmsg.senderName%7D%3C%2Fdiv%3E%60%20%3A%20\'\'%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BmessageContent%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7Bmsg.reactions%20%3F%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-reactions%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BObject.entries(msg.reactions).map((%5Bemoji%2C%20users%5D)%20%3D%3E%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%20class%3D%22reaction%22%20onclick%3D%22addReaction(\'%24%7Bid%7D\'%2C%20\'%24%7Bemoji%7D\')%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7Bemoji%7D%20%24%7Busers.length%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60).join(\'\')%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%20%3A%20\'\'%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-time%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%24%7Btime%7D%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%24%7BisOwn%20%3F%20%60%3Cspan%20class%3D%22message-status%20%24%7Bmsg.read%20%3F%20\'read\'%20%3A%20msg.delivered%20%3F%20\'delivered\'%20%3A%20\'sent\'%7D%22%3E%24%7BstatusIcon%7D%3C%2Fspan%3E%60%20%3A%20\'\'%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20messagesContainer.innerHTML%20%3D%20html%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20messagesContainer.scrollTop%20%3D%20messagesContainer.scrollHeight%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Send%20message%0A%20%20%20%20%20%20%20%20window.sendMessage%20%3D%20async%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20input%20%3D%20document.getElementById(\'messageInput\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20text%20%3D%20input.value.trim()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!text%20%7C%7C%20!currentChatWith%20%7C%7C%20!currentUser)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20chatId%20%3D%20%5BcurrentUser.id%2C%20currentChatWith.id%5D.sort().join(\'_\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20messageRef%20%3D%20push(ref(database%2C%20%60messages%2F%24%7BchatId%7D%60))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20await%20set(messageRef%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20messageRef.key%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20senderId%3A%20currentUser.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20senderName%3A%20currentUser.name%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20receiverId%3A%20currentChatWith.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20\'text\'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20text%3A%20text%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20timestamp%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20delivered%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20read%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20input.value%20%3D%20\'\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Clear%20typing%20indicator%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(typingRef)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20set(typingRef%2C%20false)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20playSound(\'message\')%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Add%20emoji%0A%20%20%20%20%20%20%20%20window.addEmoji%20%3D%20function(emoji)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20input%20%3D%20document.getElementById(\'messageInput\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20input.value%20%2B%3D%20emoji%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20input.focus()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20toggleEmojiPicker()%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Toggle%20emoji%20picker%0A%20%20%20%20%20%20%20%20window.toggleEmojiPicker%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20emojiPicker.classList.toggle(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Attach%20file%0A%20%20%20%20%20%20%20%20window.attachFile%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20input%20%3D%20document.createElement(\'input\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20input.type%20%3D%20\'file\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20input.accept%20%3D%20\'image%2F*%2C.pdf%2C.doc%2C.docx%2C.txt\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20input.onchange%20%3D%20async%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20file%20%3D%20e.target.files%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!file)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Uploading%20file...\'%2C%20\'info\'%2C%20\'Uploading\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20chatId%20%3D%20%5BcurrentUser.id%2C%20currentChatWith.id%5D.sort().join(\'_\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20fileRef%20%3D%20storageRef(storage%2C%20%60chats%2F%24%7BchatId%7D%2F%24%7BDate.now()%7D_%24%7Bfile.name%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20uploadBytes(fileRef%2C%20file)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20url%20%3D%20await%20getDownloadURL(fileRef)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20messageRef%20%3D%20push(ref(database%2C%20%60messages%2F%24%7BchatId%7D%60))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20set(messageRef%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20messageRef.key%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20senderId%3A%20currentUser.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20senderName%3A%20currentUser.name%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20receiverId%3A%20currentChatWith.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20file.type.startsWith(\'image%2F\')%20%3F%20\'image\'%20%3A%20\'file\'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20url%3A%20url%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fileName%3A%20file.name%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fileSize%3A%20formatFileSize(file.size)%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20timestamp%3A%20Date.now()%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20delivered%3A%20false%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20read%3A%20false%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'File%20uploaded%20successfully\'%2C%20\'success\'%2C%20\'Upload%20Complete\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20(error)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Error%20uploading%20file\'%2C%20\'error\'%2C%20\'Upload%20Failed\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20input.click()%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Format%20file%20size%0A%20%20%20%20%20%20%20%20function%20formatFileSize(bytes)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(bytes%20%3C%201024)%20return%20bytes%20%2B%20\'%20B\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(bytes%20%3C%201048576)%20return%20(bytes%20%2F%201024).toFixed(1)%20%2B%20\'%20KB\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20(bytes%20%2F%201048576).toFixed(1)%20%2B%20\'%20MB\'%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Add%20reaction%0A%20%20%20%20%20%20%20%20window.addReaction%20%3D%20async%20function(messageId%2C%20emoji)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!currentChatWith)%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20chatId%20%3D%20%5BcurrentUser.id%2C%20currentChatWith.id%5D.sort().join(\'_\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20reactionRef%20%3D%20ref(database%2C%20%60messages%2F%24%7BchatId%7D%2F%24%7BmessageId%7D%2Freactions%2F%24%7Bemoji%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20snapshot%20%3D%20await%20get(reactionRef)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20users%20%3D%20snapshot.val()%20%7C%7C%20%5B%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(users.includes(currentUser.id))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Remove%20reaction%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20set(reactionRef%2C%20users.filter(u%20%3D%3E%20u%20!%3D%3D%20currentUser.id))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Add%20reaction%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20set(reactionRef%2C%20%5B...users%2C%20currentUser.id%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Show%20context%20menu%0A%20%20%20%20%20%20%20%20window.showContextMenu%20%3D%20function(event%2C%20messageId)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20event.preventDefault()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20contextMenu.style.left%20%3D%20event.pageX%20%2B%20\'px\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20contextMenu.style.top%20%3D%20event.pageY%20%2B%20\'px\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20contextMenu.classList.remove(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20contextMenu.dataset.messageId%20%3D%20messageId%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.addEventListener(\'click\'%2C%20hideContextMenu)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20100)%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Hide%20context%20menu%0A%20%20%20%20%20%20%20%20function%20hideContextMenu()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20contextMenu.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.removeEventListener(\'click\'%2C%20hideContextMenu)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Context%20menu%20action%0A%20%20%20%20%20%20%20%20window.contextMenuAction%20%3D%20function(action)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20messageId%20%3D%20contextMenu.dataset.messageId%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20hideContextMenu()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(action%20%3D%3D%3D%20\'copy\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Copy%20message%20text%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(action%20%3D%3D%3D%20\'delete\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Delete%20message%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(action%20%3D%3D%3D%20\'reply\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Reply%20to%20message%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20showToast(%60%24%7Baction%7D%20action%60%2C%20\'info\'%2C%20\'Context%20Menu\')%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20View%20image%0A%20%20%20%20%20%20%20%20window.viewImage%20%3D%20function(url)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20window.open(url%2C%20\'_blank\')%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Download%20file%0A%20%20%20%20%20%20%20%20window.downloadFile%20%3D%20function(url%2C%20fileName)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20a%20%3D%20document.createElement(\'a\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20a.href%20%3D%20url%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20a.download%20%3D%20fileName%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20a.click()%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Select%20conversation%20from%20header%20(for%20mobile)%0A%20%20%20%20%20%20%20%20window.selectConversationFromHeader%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!currentChatWith%20%26%26%20window.innerWidth%20%3C%3D%20768)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20toggleMobileSidebar()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Start%20call%20from%20header%0A%20%20%20%20%20%20%20%20window.startCallFromHeader%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentChatWith%20%26%26%20!isCallActive)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startCall(currentChatWith.id%2C%20currentChatWith.name%2C%20currentChatWith.email%2C%20false)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Start%20video%20call%20from%20header%0A%20%20%20%20%20%20%20%20window.startVideoCallFromHeader%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentChatWith%20%26%26%20!isCallActive)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startCall(currentChatWith.id%2C%20currentChatWith.name%2C%20currentChatWith.email%2C%20true)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Start%20call%0A%20%20%20%20%20%20%20%20window.startCall%20%3D%20async%20function(targetId%2C%20targetName%2C%20targetEmail%2C%20video%20%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCall%20%7C%7C%20isCallActive)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Already%20in%20a%20call\'%2C%20\'error\'%2C%20\'Call%20Failed\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(%60Calling%20%24%7BtargetName%7D...%60%2C%20\'info\'%2C%20\'Calling\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playSound(\'outgoing\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStream%20%3D%20await%20navigator.mediaDevices.getUserMedia(%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audio%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20echoCancellation%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noiseSuppression%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20autoGainControl%3A%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20video%3A%20video%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(video)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localVideo.srcObject%20%3D%20localStream%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection%20%3D%20new%20RTCPeerConnection(configuration)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.onicecandidate%20%3D%20(event)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(event.candidate%20%26%26%20currentCall)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20candidateRef%20%3D%20ref(database%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60calls%2F%24%7BtargetId%7D%2F%24%7BcurrentCall.id%7D%2Fcandidates%2F%24%7BcurrentUser.id%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20push(candidateRef%2C%20event.candidate.toJSON())%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.ontrack%20%3D%20(event)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20remoteStream%20%3D%20event.streams%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(video)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20remoteVideo.srcObject%20%3D%20remoteStream%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20audioElement%20%3D%20document.createElement(\'audio\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audioElement.srcObject%20%3D%20remoteStream%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audioElement.autoplay%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.body.appendChild(audioElement)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Call%20connected!\'%2C%20\'success\'%2C%20\'Connected\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateCallUI(\'connected\'%2C%20targetName%2C%20video)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.onconnectionstatechange%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(\'Connection%20state%3A\'%2C%20peerConnection.connectionState)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(peerConnection.connectionState%20%3D%3D%3D%20\'connected\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startCallTimer()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isCallActive%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(peerConnection.connectionState%20%3D%3D%3D%20\'disconnected\'%20%7C%7C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.connectionState%20%3D%3D%3D%20\'failed\'%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.connectionState%20%3D%3D%3D%20\'closed\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(isCallActive%20%26%26%20!callEndedByUser)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleRemoteCallEnd()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.oniceconnectionstatechange%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(\'ICE%20connection%20state%3A\'%2C%20peerConnection.iceConnectionState)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(peerConnection.iceConnectionState%20%3D%3D%3D%20\'disconnected\'%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.iceConnectionState%20%3D%3D%3D%20\'failed\'%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.iceConnectionState%20%3D%3D%3D%20\'closed\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(isCallActive%20%26%26%20!callEndedByUser)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleRemoteCallEnd()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Update%20call%20quality%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateCallQuality(peerConnection.iceConnectionState)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStream.getTracks().forEach(track%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.addTrack(track%2C%20localStream)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20offer%20%3D%20await%20peerConnection.createOffer(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offerToReceiveAudio%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offerToReceiveVideo%3A%20video%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20peerConnection.setLocalDescription(offer)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20callId%20%3D%20push(ref(database%2C%20\'calls\')).key%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20callData%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20callId%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fromId%3A%20currentUser.id%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fromName%3A%20currentUser.name%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fromEmail%3A%20currentUser.email%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20toId%3A%20targetId%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20toName%3A%20targetName%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20toEmail%3A%20targetEmail%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20video%20%3F%20\'video\'%20%3A%20\'audio\'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offer%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20offer.type%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sdp%3A%20offer.sdp%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status%3A%20\'ringing\'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20timestamp%3A%20Date.now()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentCall%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20callId%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20toId%3A%20targetId%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20toName%3A%20targetName%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20video%20%3F%20\'video\'%20%3A%20\'audio\'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%3A%20callData%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20set(ref(database%2C%20%60calls%2F%24%7BtargetId%7D%2F%24%7BcallId%7D%60)%2C%20callData)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20set(ref(database%2C%20%60calls%2F%24%7BcurrentUser.id%7D%2F%24%7BcallId%7D%60)%2C%20callData)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Listen%20for%20answer%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20answerRef%20%3D%20ref(database%2C%20%60calls%2F%24%7BcurrentUser.id%7D%2F%24%7BcallId%7D%2Fanswer%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onValue(answerRef%2C%20async%20(snapshot)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20answer%20%3D%20snapshot.val()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(answer%20%26%26%20peerConnection%20%26%26%20peerConnection.signalingState%20!%3D%3D%20\'stable\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20peerConnection.setRemoteDescription(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20new%20RTCSessionDescription(answer)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error(\'Error%20setting%20remote%20description%3A\'%2C%20err)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Listen%20for%20call%20end%20from%20remote%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20callStatusRef%20%3D%20ref(database%2C%20%60calls%2F%24%7BcurrentUser.id%7D%2F%24%7BcallId%7D%2Fstatus%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onValue(callStatusRef%2C%20(snapshot)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20status%20%3D%20snapshot.val()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(status%20%3D%3D%3D%20\'ended\'%20%26%26%20isCallActive%20%26%26%20!callEndedByUser)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleRemoteCallEnd()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Listen%20for%20ICE%20candidates%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20candidatesRef%20%3D%20ref(database%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60calls%2F%24%7BcurrentUser.id%7D%2F%24%7BcallId%7D%2Fcandidates%2F%24%7BtargetId%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onValue(candidatesRef%2C%20(snapshot)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20candidates%20%3D%20snapshot.val()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(candidates%20%26%26%20peerConnection)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Object.values(candidates).forEach(candidate%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.addIceCandidate(new%20RTCIceCandidate(candidate))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.catch(err%20%3D%3E%20console.error(\'Error%20adding%20ICE%20candidate%3A\'%2C%20err))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateCallUI(\'calling\'%2C%20targetName%2C%20video)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20(error)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error(\'Error%20starting%20call%3A\'%2C%20error)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Error%20starting%20call\'%2C%20\'error\'%2C%20\'Call%20Failed\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cleanupCall()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Update%20call%20quality%0A%20%20%20%20%20%20%20%20function%20updateCallQuality(state)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20bars%20%3D%20document.querySelectorAll(\'.quality-bar\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(state%20%3D%3D%3D%20\'connected\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bars.forEach((bar%2C%20i)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bar.classList.toggle(\'active\'%2C%20i%20%3C%204)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(state%20%3D%3D%3D%20\'checking\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bars.forEach((bar%2C%20i)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bar.classList.toggle(\'active\'%2C%20i%20%3C%203)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bars.forEach((bar%2C%20i)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bar.classList.toggle(\'active\'%2C%20i%20%3C%202)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Handle%20remote%20call%20end%0A%20%20%20%20%20%20%20%20function%20handleRemoteCallEnd()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Call%20ended%20by%20other%20user\'%2C%20\'info\'%2C%20\'Call%20Ended\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cleanupCall()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20callOverlay.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20incomingCallOverlay.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentCall%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20isCallActive%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20callEndedByUser%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Handle%20incoming%20call%0A%20%20%20%20%20%20%20%20function%20handleIncomingCall(snapshot)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20calls%20%3D%20snapshot.val()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!calls)%20return%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20Object.entries(calls).forEach((%5BcallId%2C%20call%5D)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(call.fromId%20!%3D%3D%20currentUser%3F.id%20%26%26%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20call.status%20%3D%3D%3D%20\'ringing\'%20%26%26%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20!currentCall%20%26%26%20!isCallActive)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showIncomingCall(call)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentCall%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20id%3A%20callId%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fromId%3A%20call.fromId%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fromName%3A%20call.fromName%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fromEmail%3A%20call.fromEmail%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20call.type%20%7C%7C%20\'audio\'%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20offer%3A%20call.offer%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20data%3A%20call%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20playSound(\'incoming\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Show%20notification%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(userSettings.notifications%20%26%26%20Notification.permission%20%3D%3D%3D%20\'granted\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20new%20Notification(\'Incoming%20Call\'%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20body%3A%20%60%24%7Bcall.fromName%7D%20is%20calling%20you%60%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20icon%3A%20\'%2Ffavicon.ico\'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Show%20incoming%20call%0A%20%20%20%20%20%20%20%20function%20showIncomingCall(call)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'incomingName\').textContent%20%3D%20call.fromName%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'incomingAvatar\').textContent%20%3D%20call.fromName.charAt(0).toUpperCase()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'incomingType\').textContent%20%3D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20call.type%20%3D%3D%3D%20\'video\'%20%3F%20\'is%20video%20calling%20you...\'%20%3A%20\'is%20calling%20you...\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20incomingCallOverlay.classList.remove(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Accept%20call%0A%20%20%20%20%20%20%20%20window.acceptCall%20%3D%20async%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20incomingCallOverlay.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Accepting%20call...\'%2C%20\'info\'%2C%20\'Connecting\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStream%20%3D%20await%20navigator.mediaDevices.getUserMedia(%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audio%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20echoCancellation%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20noiseSuppression%3A%20true%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20autoGainControl%3A%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20video%3A%20currentCall.type%20%3D%3D%3D%20\'video\'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCall.type%20%3D%3D%3D%20\'video\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localVideo.srcObject%20%3D%20localStream%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection%20%3D%20new%20RTCPeerConnection(configuration)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.onicecandidate%20%3D%20(event)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(event.candidate%20%26%26%20currentCall)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20candidateRef%20%3D%20ref(database%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60calls%2F%24%7BcurrentCall.fromId%7D%2F%24%7BcurrentCall.id%7D%2Fcandidates%2F%24%7BcurrentUser.id%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20push(candidateRef%2C%20event.candidate.toJSON())%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.ontrack%20%3D%20(event)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20remoteStream%20%3D%20event.streams%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCall.type%20%3D%3D%3D%20\'video\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20remoteVideo.srcObject%20%3D%20remoteStream%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20audioElement%20%3D%20document.createElement(\'audio\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audioElement.srcObject%20%3D%20remoteStream%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audioElement.autoplay%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.body.appendChild(audioElement)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Call%20connected!\'%2C%20\'success\'%2C%20\'Connected\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.onconnectionstatechange%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(\'Connection%20state%3A\'%2C%20peerConnection.connectionState)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(peerConnection.connectionState%20%3D%3D%3D%20\'connected\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startCallTimer()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isCallActive%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateCallUI(\'connected\'%2C%20currentCall.fromName%2C%20currentCall.type%20%3D%3D%3D%20\'video\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(peerConnection.connectionState%20%3D%3D%3D%20\'disconnected\'%20%7C%7C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.connectionState%20%3D%3D%3D%20\'failed\'%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.connectionState%20%3D%3D%3D%20\'closed\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(isCallActive%20%26%26%20!callEndedByUser)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleRemoteCallEnd()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.oniceconnectionstatechange%20%3D%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.log(\'ICE%20connection%20state%3A\'%2C%20peerConnection.iceConnectionState)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(peerConnection.iceConnectionState%20%3D%3D%3D%20\'disconnected\'%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.iceConnectionState%20%3D%3D%3D%20\'failed\'%20%7C%7C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.iceConnectionState%20%3D%3D%3D%20\'closed\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(isCallActive%20%26%26%20!callEndedByUser)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleRemoteCallEnd()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateCallQuality(peerConnection.iceConnectionState)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStream.getTracks().forEach(track%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.addTrack(track%2C%20localStream)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20peerConnection.setRemoteDescription(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20new%20RTCSessionDescription(currentCall.offer)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20answer%20%3D%20await%20peerConnection.createAnswer()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20peerConnection.setLocalDescription(answer)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20update(ref(database%2C%20%60calls%2F%24%7BcurrentUser.id%7D%2F%24%7BcurrentCall.id%7D%60)%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20answer%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20answer.type%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sdp%3A%20answer.sdp%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status%3A%20\'connected\'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20update(ref(database%2C%20%60calls%2F%24%7BcurrentCall.fromId%7D%2F%24%7BcurrentCall.id%7D%60)%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20answer%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20type%3A%20answer.type%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sdp%3A%20answer.sdp%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status%3A%20\'connected\'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Listen%20for%20call%20end%20from%20remote%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20callStatusRef%20%3D%20ref(database%2C%20%60calls%2F%24%7BcurrentUser.id%7D%2F%24%7BcurrentCall.id%7D%2Fstatus%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onValue(callStatusRef%2C%20(snapshot)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20status%20%3D%20snapshot.val()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(status%20%3D%3D%3D%20\'ended\'%20%26%26%20isCallActive%20%26%26%20!callEndedByUser)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20handleRemoteCallEnd()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Listen%20for%20ICE%20candidates%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20candidatesRef%20%3D%20ref(database%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60calls%2F%24%7BcurrentUser.id%7D%2F%24%7BcurrentCall.id%7D%2Fcandidates%2F%24%7BcurrentCall.fromId%7D%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onValue(candidatesRef%2C%20(snapshot)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20candidates%20%3D%20snapshot.val()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(candidates%20%26%26%20peerConnection)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Object.values(candidates).forEach(candidate%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.addIceCandidate(new%20RTCIceCandidate(candidate))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.catch(err%20%3D%3E%20console.error(\'Error%20adding%20ICE%20candidate%3A\'%2C%20err))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20updateCallUI(\'connected\'%2C%20currentCall.fromName%2C%20currentCall.type%20%3D%3D%3D%20\'video\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20(error)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error(\'Error%20accepting%20call%3A\'%2C%20error)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Error%20accepting%20call\'%2C%20\'error\'%2C%20\'Call%20Failed\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cleanupCall()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Reject%20call%0A%20%20%20%20%20%20%20%20window.rejectCall%20%3D%20async%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20incomingCallOverlay.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCall)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20update(ref(database%2C%20%60calls%2F%24%7BcurrentUser.id%7D%2F%24%7BcurrentCall.id%7D%60)%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status%3A%20\'rejected\'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20update(ref(database%2C%20%60calls%2F%24%7BcurrentCall.fromId%7D%2F%24%7BcurrentCall.id%7D%60)%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status%3A%20\'rejected\'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentCall%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Call%20rejected\'%2C%20\'info\'%2C%20\'Call%20Rejected\')%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Update%20call%20UI%0A%20%20%20%20%20%20%20%20function%20updateCallUI(status%2C%20with_%2C%20video%20%3D%20false)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20callOverlay.classList.remove(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(video)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audioCallContainer.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20videoCallContainer.classList.remove(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'videoMuteBtn\').innerHTML%20%3D%20isMuted%20%3F%20\'%F0%9F%94%87\'%20%3A%20\'%F0%9F%8E%A4\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audioCallContainer.classList.remove(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20videoCallContainer.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'callName\').textContent%20%3D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status%20%3D%3D%3D%20\'calling\'%20%3F%20%60Calling%20%24%7Bwith_%7D...%60%20%3A%20with_%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'callStatus\').textContent%20%3D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status%20%3D%3D%3D%20\'calling\'%20%3F%20\'Ringing\'%20%3A%20\'Connected\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'callAvatarLarge\').textContent%20%3D%20with_.charAt(0).toUpperCase()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Start%20call%20timer%0A%20%20%20%20%20%20%20%20function%20startCallTimer()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20callStartTime%20%3D%20Date.now()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(callTimer)%20clearInterval(callTimer)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20callTimer%20%3D%20setInterval(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(callStartTime%20%26%26%20isCallActive)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20elapsed%20%3D%20Math.floor((Date.now()%20-%20callStartTime)%20%2F%201000)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20minutes%20%3D%20Math.floor(elapsed%20%2F%2060)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20seconds%20%3D%20elapsed%20%25%2060%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'callTimer\').textContent%20%3D%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%24%7Bminutes.toString().padStart(2%2C%20\'0\')%7D%3A%24%7Bseconds.toString().padStart(2%2C%20\'0\')%7D%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%201000)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20End%20call%0A%20%20%20%20%20%20%20%20window.endCall%20%3D%20async%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20callEndedByUser%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCall%20%26%26%20currentUser)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20update(ref(database%2C%20%60calls%2F%24%7BcurrentUser.id%7D%2F%24%7BcurrentCall.id%7D%60)%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status%3A%20\'ended\'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCall.toId)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20update(ref(database%2C%20%60calls%2F%24%7BcurrentCall.toId%7D%2F%24%7BcurrentCall.id%7D%60)%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status%3A%20\'ended\'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20(currentCall.fromId)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20update(ref(database%2C%20%60calls%2F%24%7BcurrentCall.fromId%7D%2F%24%7BcurrentCall.id%7D%60)%2C%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20status%3A%20\'ended\'%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20cleanupCall()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20callOverlay.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20currentCall%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20isCallActive%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Call%20ended\'%2C%20\'info\'%2C%20\'Call%20Ended\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20callEndedByUser%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%201000)%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Cleanup%20call%0A%20%20%20%20%20%20%20%20function%20cleanupCall()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(callTimer)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(callTimer)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20callTimer%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20callStartTime%20%3D%20null%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(peerConnection)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection.close()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20peerConnection%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(localStream)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStream.getTracks().forEach(track%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20track.stop()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStream%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Remove%20audio%20elements%0A%20%20%20%20%20%20%20%20%20%20%20%20document.querySelectorAll(\'audio\').forEach(el%20%3D%3E%20el.remove())%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Clear%20video%20elements%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(remoteVideo)%20remoteVideo.srcObject%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(localVideo)%20localVideo.srcObject%20%3D%20null%3B%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'callTimer\').textContent%20%3D%20\'00%3A00\'%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Toggle%20mute%0A%20%20%20%20%20%20%20%20window.toggleMute%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(localStream)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isMuted%20%3D%20!isMuted%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStream.getAudioTracks().forEach(track%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20track.enabled%20%3D%20!isMuted%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20muteBtn%20%3D%20document.getElementById(\'callMuteBtn\')%20%7C%7C%20document.getElementById(\'videoMuteBtn\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20muteBtn.innerHTML%20%3D%20isMuted%20%3F%20\'%F0%9F%94%87\'%20%3A%20\'%F0%9F%8E%A4\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20muteBtn.classList.toggle(\'active\'%2C%20isMuted)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(isMuted%20%3F%20\'Microphone%20muted\'%20%3A%20\'Microphone%20unmuted\'%2C%20\'info\'%2C%20\'Mic\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Toggle%20speaker%0A%20%20%20%20%20%20%20%20window.toggleSpeaker%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20isSpeakerEnabled%20%3D%20!isSpeakerEnabled%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.querySelectorAll(\'audio\').forEach(el%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20el.muted%20%3D%20!isSpeakerEnabled%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20speakerBtn%20%3D%20document.getElementById(\'callSpeakerBtn\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20speakerBtn.innerHTML%20%3D%20isSpeakerEnabled%20%3F%20\'%F0%9F%94%8A\'%20%3A%20\'%F0%9F%94%88\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20speakerBtn.classList.toggle(\'active\'%2C%20!isSpeakerEnabled)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20showToast(isSpeakerEnabled%20%3F%20\'Speaker%20on\'%20%3A%20\'Speaker%20off\'%2C%20\'info\'%2C%20\'Speaker\')%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Toggle%20video%0A%20%20%20%20%20%20%20%20window.toggleVideo%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(localStream)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isVideoEnabled%20%3D%20!isVideoEnabled%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStream.getVideoTracks().forEach(track%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20track.enabled%20%3D%20isVideoEnabled%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20videoBtn%20%3D%20document.getElementById(\'videoToggleBtn\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20videoBtn.innerHTML%20%3D%20isVideoEnabled%20%3F%20\'%F0%9F%93%B9\'%20%3A%20\'%F0%9F%9A%AB\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20videoBtn.classList.toggle(\'active\'%2C%20isVideoEnabled)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(isVideoEnabled%20%3F%20\'Video%20on\'%20%3A%20\'Video%20off\'%2C%20\'info\'%2C%20\'Video\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Get%20audio%20devices%0A%20%20%20%20%20%20%20%20async%20function%20getAudioDevices()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20devices%20%3D%20await%20navigator.mediaDevices.enumerateDevices()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20microphones%20%3D%20devices.filter(d%20%3D%3E%20d.kind%20%3D%3D%3D%20\'audioinput\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20speakers%20%3D%20devices.filter(d%20%3D%3E%20d.kind%20%3D%3D%3D%20\'audiooutput\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20microphoneSelect.innerHTML%20%3D%20microphones.map(mic%20%3D%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Coption%20value%3D%22%24%7Bmic.deviceId%7D%22%3E%24%7Bmic.label%20%7C%7C%20\'Microphone\'%7D%3C%2Foption%3E%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20).join(\'\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20speakerSelect.innerHTML%20%3D%20speakers.map(speaker%20%3D%3E%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%60%3Coption%20value%3D%22%24%7Bspeaker.deviceId%7D%22%3E%24%7Bspeaker.label%20%7C%7C%20\'Speaker\'%7D%3C%2Foption%3E%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20).join(\'\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20console.error(\'Error%20getting%20devices%3A\'%2C%20err)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Test%20microphone%0A%20%20%20%20%20%20%20%20window.testMicrophone%20%3D%20async%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20stream%20%3D%20await%20navigator.mediaDevices.getUserMedia(%7B%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audio%3A%20true%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audioContext%20%3D%20new%20AudioContext()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20analyser%20%3D%20audioContext.createAnalyser()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20source%20%3D%20audioContext.createMediaStreamSource(stream)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20source.connect(analyser)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20dataArray%20%3D%20new%20Uint8Array(analyser.frequencyBinCount)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(volumeInterval)%20clearInterval(volumeInterval)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20volumeInterval%20%3D%20setInterval(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20analyser.getByteFrequencyData(dataArray)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20average%20%3D%20dataArray.reduce((a%2C%20b)%20%3D%3E%20a%20%2B%20b)%20%2F%20dataArray.length%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20volume%20%3D%20Math.min(100%2C%20(average%20%2F%20128)%20*%20100)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20volumeFill.style.width%20%3D%20volume%20%2B%20\'%25\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20volumePercentage.textContent%20%3D%20Math.round(volume)%20%2B%20\'%25\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20100)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Microphone%20test%20started.%20Speak%20into%20the%20mic.\'%2C%20\'success\'%2C%20\'Mic%20Test\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stream.getTracks().forEach(track%20%3D%3E%20track.stop())%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20clearInterval(volumeInterval)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20volumeFill.style.width%20%3D%20\'0%25\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20volumePercentage.textContent%20%3D%20\'0%25\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audioContext.close()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Microphone%20test%20completed\'%2C%20\'success\'%2C%20\'Mic%20Test\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%203000)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Microphone%20test%20failed.%20Please%20check%20permissions.\'%2C%20\'error\'%2C%20\'Mic%20Test\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Change%20microphone%0A%20%20%20%20%20%20%20%20window.changeMicrophone%20%3D%20async%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(localStream)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20tracks%20%3D%20localStream.getAudioTracks()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tracks.forEach(track%20%3D%3E%20track.stop())%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20deviceId%20%3D%20microphoneSelect.value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20newStream%20%3D%20await%20navigator.mediaDevices.getUserMedia(%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20audio%3A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20deviceId%3A%20deviceId%20%3F%20%7B%20exact%3A%20deviceId%20%7D%20%3A%20undefined%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20newTrack%20%3D%20newStream.getAudioTracks()%5B0%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20localStream.addTrack(newTrack)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(peerConnection)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20sender%20%3D%20peerConnection.getSenders().find(s%20%3D%3E%20s.track.kind%20%3D%3D%3D%20\'audio\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(sender)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sender.replaceTrack(newTrack)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Microphone%20changed\'%2C%20\'success\'%2C%20\'Audio%20Settings\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Error%20changing%20microphone\'%2C%20\'error\'%2C%20\'Audio%20Settings\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Change%20speaker%0A%20%20%20%20%20%20%20%20window.changeSpeaker%20%3D%20async%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(remoteStream)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20deviceId%20%3D%20speakerSelect.value%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20audioElement%20%3D%20document.querySelector(\'audio\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(audioElement%20%26%26%20deviceId%20%26%26%20audioElement.setSinkId)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20audioElement.setSinkId(deviceId)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Speaker%20changed\'%2C%20\'success\'%2C%20\'Audio%20Settings\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Error%20changing%20speaker\'%2C%20\'error\'%2C%20\'Audio%20Settings\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Toggle%20setting%0A%20%20%20%20%20%20%20%20window.toggleSetting%20%3D%20function(setting)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20userSettings%5Bsetting%5D%20%3D%20!userSettings%5Bsetting%5D%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20toggle%20%3D%20document.getElementById(setting%20%2B%20\'Toggle\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20toggle.classList.toggle(\'active\'%2C%20userSettings%5Bsetting%5D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentUser)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20update(ref(database%2C%20%60users%2F%24%7BcurrentUser.id%7D%2Fsettings%60)%2C%20userSettings)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20showToast(%60%24%7Bsetting%7D%20%24%7BuserSettings%5Bsetting%5D%20%3F%20\'enabled\'%20%3A%20\'disabled\'%7D%60%2C%20\'info\'%2C%20\'Settings\')%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Open%20settings%0A%20%20%20%20%20%20%20%20window.openSettings%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20settingsPanel.classList.remove(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Close%20settings%0A%20%20%20%20%20%20%20%20window.closeSettings%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20settingsPanel.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Open%20user%20profile%0A%20%20%20%20%20%20%20%20window.openUserProfile%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20userProfilePanel.classList.remove(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Close%20user%20profile%0A%20%20%20%20%20%20%20%20window.closeUserProfile%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20userProfilePanel.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Edit%20profile%0A%20%20%20%20%20%20%20%20window.editProfile%20%3D%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20newBio%20%3D%20prompt(\'Enter%20your%20bio%3A\'%2C%20currentUser%3F.bio%20%7C%7C%20\'\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(newBio%20!%3D%3D%20null%20%26%26%20currentUser)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentUser.bio%20%3D%20newBio%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20update(ref(database%2C%20%60users%2F%24%7BcurrentUser.id%7D%2Fbio%60)%2C%20newBio)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById(\'profileBio\').textContent%20%3D%20newBio%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Profile%20updated\'%2C%20\'success\'%2C%20\'Profile\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Logout%0A%20%20%20%20%20%20%20%20window.logout%20%3D%20async%20function()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentUser%20%26%26%20deviceId)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20remove(ref(database%2C%20%60users%2F%24%7BcurrentUser.id%7D%2Fonline%2F%24%7BdeviceId%7D%60))%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentCall%20%7C%7C%20isCallActive)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20endCall()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentUser%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20deviceId%20%3D%20null%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20signalApp.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20authContainer.classList.remove(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Logged%20out%20successfully\'%2C%20\'success\'%2C%20\'Goodbye!\')%3B%0A%20%20%20%20%20%20%20%20%7D%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Heartbeat%0A%20%20%20%20%20%20%20%20function%20startHeartbeat()%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20setInterval(async%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(currentUser%20%26%26%20deviceId)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20deviceRef%20%3D%20ref(database%2C%20%60users%2F%24%7BcurrentUser.id%7D%2Fonline%2F%24%7BdeviceId%7D%2FlastSeen%60)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20set(deviceRef%2C%20Date.now())%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%2030000)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Initialize%0A%20%20%20%20%20%20%20%20window.addEventListener(\'load\'%2C%20async%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20startHeartbeat()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20try%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20await%20navigator.mediaDevices.getUserMedia(%7B%20audio%3A%20true%20%7D)%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20catch%20(err)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showToast(\'Please%20allow%20microphone%20access%20for%20calls\'%2C%20\'warning\'%2C%20\'Permission%20Required\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Search%20users%0A%20%20%20%20%20%20%20%20document.getElementById(\'searchUsers\')%3F.addEventListener(\'input\'%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20search%20%3D%20e.target.value.toLowerCase()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.querySelectorAll(\'.conversation-item\').forEach(item%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20name%20%3D%20item.querySelector(\'.conversation-name\')%3F.textContent.toLowerCase()%20%7C%7C%20\'\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20item.style.display%20%3D%20name.includes(search)%20%3F%20\'flex\'%20%3A%20\'none\'%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Typing%20indicator%0A%20%20%20%20%20%20%20%20document.getElementById(\'messageInput\')%3F.addEventListener(\'input\'%2C%20handleTyping)%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Enter%20key%20for%20messages%0A%20%20%20%20%20%20%20%20document.getElementById(\'messageInput\')%3F.addEventListener(\'keypress\'%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(e.key%20%3D%3D%3D%20\'Enter\')%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sendMessage()%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Handle%20orientation%20change%0A%20%20%20%20%20%20%20%20window.addEventListener(\'orientationchange\'%2C%20()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout(()%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(window.innerWidth%20%3C%3D%20768)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20conversationsSidebar.classList.remove(\'mobile-visible\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20100)%3B%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%0A%20%20%20%20%20%20%20%20%2F%2F%20Click%20outside%20to%20close%20emoji%20picker%0A%20%20%20%20%20%20%20%20document.addEventListener(\'click\'%2C%20(e)%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20(!emojiPicker.contains(e.target)%20%26%26%20!e.target.classList.contains(\'input-action-btn\'))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20emojiPicker.classList.add(\'hidden\')%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D)%3B%0A%20%20%20%20%3C%2Fscript%3E%0A%3C%2Fbody%3E%0A%3C%2Fhtml%3E'));
</script>
